<div>
    <h1>Welcome {{loggedUser.name}} </h1> <br>

    <a ng-href="/#newsurvey">Create New Poll</a> <br>
    Search <input type="text" ng-model="filter_name">
    <table class="table table-condensed" ng-init="getSurveyLists()"> 
        <thead>
            <tr>
                <th>Name</th>
                <th>Survey Question</th>
                <th>Date Posted</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat='survey in surveyList | filter: filter_name | orderBy: "-createdAt"'>  
<!-- var SurveySchema = new mongoose.Schema({
    _creator: {type: Schema.Types.ObjectId, ref: 'Users'},  
    question: String, 
    options: [String],
    votes: [Number]
}, {timestamps: true}); -->
                <td ng-bind='survey._creator.name'></td>
                <td> <a href="/#details/{{survey._id}}">{{survey.question}}</a></td>
                <td> {{survey.createdAt | date : "fullDate"}}
                <td> <button ng-show="isDeletable(survey)" ng-click="delete(survey._id)">Delete</a></td>
            </tr>
        </tbody>
    </table> 

    <button ng-click="logOut()">LogOut</button>   
</div>
